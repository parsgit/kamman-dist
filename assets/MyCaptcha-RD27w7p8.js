import{_ as g,o as s,c as a,a as e,r as c,m as k,g as v,q as x,t as h,S as w,b as y}from"./index-_F2UExgB.js";import{a as C}from"./MyInput-H1r5De2n.js";const b={},B={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"},null,-1),M=[$];function I(r,i){return s(),a("svg",B,M)}const N=g(b,[["render",I]]),S={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center"},V={class:"flex items-center"},A=["src"],D={key:1,class:"text-red-200 text-center"},q={__name:"MyCaptcha",props:{reloadBtn:{default:!1},inputClass:{}},emits:["input"],setup(r,{emit:i}){const u=r,f=i,d=c(!1),p=c(""),_=c(""),t=c(0),l=()=>{w("captcha/check-ability",{},o=>{o.ok?(d.value=!0,_.value=y.server+"captcha/show?v="+new Date().getTime()):(p.value=o.message,t.value=o.diff)})};return k(()=>{l(),setInterval(()=>{t.value>0&&(t.value-=1,t.value==0&&l())},1e3)}),(o,n)=>(s(),a("div",null,[d.value?(s(),a("div",S,[e("div",null,[v(C,{onInput:n[0]||(n[0]=m=>f("input",m)),"input-class":u.inputClass,placeholder:"کد امنیتی",c:"primary"},null,8,["input-class"])]),e("div",V,[e("img",{class:"rounded-xl mx-auto",src:_.value,alt:"captcha image"},null,8,A),u.reloadBtn?(s(),a("button",{key:0,onClick:n[1]||(n[1]=m=>l()),class:"btn btn-outline"},[v(N,{class:"w-8"})])):x("",!0)])])):(s(),a("div",D,[e("div",null,h(p.value),1),e("div",null,h(t.value),1)]))]))}};export{q as _};
